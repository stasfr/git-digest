# `git-digest`: Интеллектуальный анализатор коммитов

`git-digest` — это утилита командной строки (CLI), которая использует AI для анализа git-коммитов и создания понятного отчета о проделанной работе. Она преобразует стандартный лог коммитов в структурированный список достижений, идеально подходящий для ежедневных отчетов или обзора задач.

## Ключевые возможности

*   **AI-генерация отчетов:** Использует языковые модели через OpenRouter для анализа и обобщения коммитов.
*   **Группировка и фильтрация:** Автоматически группирует связанные коммиты и отфильтровывает неинформативные (слияние веток, обновление зависимостей и т.д.).
*   **Человекочитаемый формат:** Предоставляет отчет в виде списка конкретных улучшений, исправлений и реализованных функций.
*   **Статистика использования:** Отслеживает количество использованных токенов и рассчитывает примерную стоимость запросов к AI.
*   **Гибкая настройка:** Позволяет настраивать модель AI и авторов коммитов через переменные окружения.

## Установка

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/Farkash-Stanislav/git-digest.git
    cd git-digest
    ```

2.  **Установите зависимости:**
    Убедитесь, что у вас установлены [Node.js](https://nodejs.org/) и [pnpm](https://pnpm.io/).
    ```bash
    pnpm install
    ```

3.  **Создайте глобальную ссылку:**
    Чтобы сделать утилиту доступной в системе по команде `gtc`, выполните:
    ```bash
    pnpm link --global
    ```

## Конфигурация

Перед первым запуском необходимо настроить переменные окружения.

1.  **Создайте файл `.env`:**
    Скопируйте файл `.env.example` в новый файл с именем `.env`:
    ```bash
    cp .env.example .env
    ```

2.  **Заполните `.env`:**
    Откройте файл `.env` и укажите необходимые значения:

    ```dotenv
    # Обязательно: Ваш API-ключ от OpenRouter.ai
    OPEN_ROUTER_API_KEY="sk-or-v1-..."

    # Обязательно: Модель, которую будет использовать AI.
    # Например: "mistralai/mistral-7b-instruct" или "google/gemini-pro"
    AI_COMPLETION_MODEL="google/gemini-pro"

    # Опционально: Ветка для анализа (по умолчанию 'dev')
    GIT_BRANCH="dev"

    # Опционально: Авторы коммитов для анализа (через запятую, без пробелов)
    # Например: "user1,user2,user3"
    GIT_AUTHORS="stas_fr,s.farkash"
    ```

## Использование

После установки и настройки просто выполните команду `gtc` в любом локальном git-репозитории:

```bash
gtc
```

Утилита соберет коммиты за текущий день от указанных авторов из целевой ветки, сгенерирует отчет и выведет его в консоль вместе со статистикой по использованным токенам.

## Скрипты для разработки

*   `pnpm dev`: Запуск в режиме разработки с автоматической перезагрузкой.
*   `pnpm build`: Сборка проекта в JavaScript.
*   `pnpm lint`: Проверка кода с помощью ESLint.
*   `pnpm type-check`: Проверка типов TypeScript без компиляции.