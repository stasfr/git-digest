# Release Workflow

Этот документ описывает процесс релиза новой версии пакета.

## 1. Разработка

- Основная ветка для разработки - `dev`.
- Все новые фичи и исправления делаются в отдельных ветках, которые создаются от `dev`.
- После завершения работы над фичей или исправлением, изменения мерджатся в ветку `dev`.

## 2. Подготовка к релизу

- Когда в `dev` накоплено достаточно изменений для релиза, создается Pull Request из `dev` в `main`.
- После ревью и апрува, Pull Request мерджится в `main`. Это создает мердж-коммит, который содержит все изменения из `dev`.

## 3. Релиз

1.  **Переключиться на ветку `main`:**
    ```bash
    git checkout main
    git pull origin main
    ```

2.  **Выполнить скрипт релиза:**
    В зависимости от типа изменений (patch, minor, major), выполните одну из следующих команд:

    - **Patch-релиз (исправления багов):**
      ```bash
      pnpm run release:patch
      ```
    - **Minor-релиз (добавление нового функционала):**
      ```bash
      pnpm run release:minor
      ```
    - **Major-релиз (изменения, нарушающие обратную совместимость):**
      ```bash
      pnpm run release:major
      ```
    Эта команда автоматически:
    - Обновит версию в `package.json`.
    - Создаст коммит с сообщением `chore(release): publish vX.X.X`.
    - Создаст Git-тег с новой версией.
    - Отправит коммит и тег в удаленный репозиторий.
    - Соберет проект.
    - Опубликует новую версию в npm.

3.  **Создать релиз на GitHub:**
    - Перейдите в раздел "Releases" вашего репозитория на GitHub.
    - Нажмите "Draft a new release".
    - Выберите только что созданный тег.
    - Сгенерируйте или напишите заметки к релизу (release notes).
    - Опубликуйте релиз.
